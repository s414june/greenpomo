(function(t){function e(e){for(var n,s,a=e[0],u=e[1],c=e[2],l=0,p=[];l<a.length;l++)s=a[l],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);m&&m(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,a=1;a<o.length;a++){var u=o[a];0!==i[u]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/greenpomo/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var m=u;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"00eb":function(t,e,o){"use strict";o("90da")},"02a4":function(t,e,o){},"034f":function(t,e,o){"use strict";o("85ec")},"2a20":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("header-com"),o("pomo-com"),o("menu-com")],1)},r=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"navbar"}},[o("header",[o("a",{attrs:{href:"#"}},[o("img",{attrs:{src:t.logo,alt:"pomogreenLogo"}}),o("h2",[t._v("GreenPomo")])]),o("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:function(e){t.$parent.isMenu=!t.$parent.isMenu}}},[o("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16m-7 6h7"}})])])])},a=[],u={components:{},data:function(){return{logo:o("cf05")}},methods:{}},c=u,m=(o("00eb"),o("2877")),l=Object(m["a"])(c,s,a,!1,null,null,null),p=l.exports,d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"pomo-place"}},[o("pomo-clock"),o("pomo-footer")],1)},f=[],h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("p",{staticClass:"show-msg"},[t._v(t._s(t.displayMsg))]),o("div",{staticClass:"pomoClock"},[o("p",[t._v(t._s(t.pomoMinute(this.$store.state.displayTime))+"："+t._s(t.pomoSecond(this.$store.state.displayTime)))]),t.isBreak?t._e():o("span",[t.isCount?o("i",{staticClass:"fa fa-pause-circle",attrs:{"aria-hidden":"true"},on:{click:t.pauser}}):o("i",{staticClass:"fa fa-play-circle",attrs:{"aria-hidden":"true"},on:{click:t.pomoer}})]),t.isInit?t._e():o("i",{staticClass:"fa fa-stop-circle",attrs:{"aria-hidden":"true"},on:{click:t.stopper}})])])},v=[],g=(o("fb6a"),o("a15b"),{props:[],data:function(){return{displayMsg:null,countInterval:null,notifyGranted:!1,isBreak:!1,isInit:!0,isCount:!1,msg:{beforePomo:"開始熱血🍅吧",pause:"🍅在等你採收喔~",pomo:"\\ 番茄🍅時光 /",shortBreak:"小歇片刻，🍅熟了最好吃",longBreak:"好好休息，等下一棵番茄樹……"}}},beforeMount:function(){this.initPomo(),this.initNotify()},methods:{initPomo:function(){this.isBreak=!1,this.isCount=!1,this.isInit=!0,this.displayMsg=this.msg.beforePomo,this.$store.commit("initDisplayTime")},initNotify:function(){switch("Notification"in window?console.log(Notification.permission):console.log("This browser does not support notification"),Notification.permission){case"default":case"denied":case"undefined":Notification.requestPermission();break;case"granted":this.notifyGranted=!0;break}},pomoer:function(){this.isCount?this.pause2recount():this.start2countdown()},pauser:function(){this.countdown2pause()},stopper:function(){this.countdown2stop()},countdown:function(){var t=this;this.timeInterval=setInterval((function(){t.$store.state.displayTime=t.$store.state.displayTime-1,t.$store.state.displayTime<0&&(t.notifyGranted?t.showNotify():t.showAlert(),clearInterval(t.timeInterval),t.$store.state.displayTime=0,t.check_break_start())}),1e3)},check_break_start:function(){this.isBreak?this.break2start():this.countdown2break()},start2countdown:function(){this.isInit=!1,this.isCount=!0,this.displayMsg=this.msg.pomo,this.countdown()},countdown2pause:function(){this.isCount=!1,this.displayMsg=this.msg.pause,clearInterval(this.timeInterval)},pause2recount:function(){this.displayMsg=this.msg.pomo,this.countdown()},countdown2break:function(){this.isBreak=!0,this.$parent.timesCookie%4!=3?this.setShortBreak():this.setLongBreak(),this.countdown()},setShortBreak:function(){this.displayMsg=this.msg.shortBreak,this.$store.state.displayTime=this.$store.state.time.shortBreak},setLongBreak:function(){this.displayMsg=this.msg.longBreak,this.$store.state.displayTime=this.$store.state.time.longBreak},break2start:function(){this.$parent.timesCookie++,this.initPomo()},countdown2stop:function(){var t=this;this.ask("臨時停止的話就無法採收這顆🍅了！\n確定要停止嗎？",(function(){clearInterval(t.timeInterval),t.initPomo()}))},ask:function(t,e){confirm(t)&&e()},padZero:function(t,e){return(Array(e).join("0").slice(-e)+t).slice(-e)},pomoMinute:function(t){return this.padZero(Math.floor(t/60),2)},pomoSecond:function(t){return this.padZero(t%60,2)},showNotify:function(){this.notify=new Notification("時間到",{body:"綠色番茄關心您",icon:"../../assets/pomonoti.ico"})},showAlert:function(){alert("時間到")}}}),k=g,b=(o("ddf5"),Object(m["a"])(k,h,v,!1,null,null,null)),y=b.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("footer",{staticClass:"pomoCookie"},[o("p",[o("span",[t._v("已採收："+t._s(t.$parent.timesCookie%4)+"/4番茄")]),o("span",[t._v("已收穫："+t._s(Math.floor(t.$parent.timesCookie/4))+"棵番茄樹")])])])},_=[],B={data:function(){return{}}},$=B,M=(o("a830"),Object(m["a"])($,w,_,!1,null,null,null)),S=M.exports,C={components:{PomoClock:y,PomoFooter:S},data:function(){return{timesCookie:0}}},P=C,x=Object(m["a"])(P,d,f,!1,null,null,null),T=x.exports,O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"slide","enter-active-class":"animated slideInRight","leave-active-class":"animated slideOutRight"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.$parent.isMenu,expression:"$parent.isMenu"}],staticClass:"menu"},[o("label",[o("h3",[t._v("時間設定")]),o("p",[t._v(" 番茄時光： "),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.timeMinute.pomo,expression:"timeMinute.pomo",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.timeMinute.pomo},on:{input:function(e){e.target.composing||t.$set(t.timeMinute,"pomo",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" 分 "),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.timeSecond.pomo,expression:"timeSecond.pomo",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.timeSecond.pomo},on:{input:function(e){e.target.composing||t.$set(t.timeSecond,"pomo",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" 秒 ")]),o("p",[t._v(" 小歇時光： "),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.timeMinute.shortBreak,expression:"timeMinute.shortBreak",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.timeMinute.shortBreak},on:{input:function(e){e.target.composing||t.$set(t.timeMinute,"shortBreak",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" 分 "),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.timeSecond.shortBreak,expression:"timeSecond.shortBreak",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.timeSecond.shortBreak},on:{input:function(e){e.target.composing||t.$set(t.timeSecond,"shortBreak",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" 秒 ")]),o("p",[t._v(" 休息時光： "),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.timeMinute.longBreak,expression:"timeMinute.longBreak",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.timeMinute.longBreak},on:{input:function(e){e.target.composing||t.$set(t.timeMinute,"longBreak",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" 分 "),o("input",{directives:[{name:"model",rawName:"v-model.number",value:t.timeSecond.longBreak,expression:"timeSecond.longBreak",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.timeSecond.longBreak},on:{input:function(e){e.target.composing||t.$set(t.timeSecond,"longBreak",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" 秒 ")]),o("button",{on:{click:function(e){return t.changeTimeSet()}}},[t._v(" 修改時間")])])])])},j=[],N={data:function(){return{timeMinute:{pomo:Math.floor(this.$store.state.time.pomo/60),shortBreak:Math.floor(this.$store.state.time.shortBreak/60),longBreak:Math.floor(this.$store.state.time.longBreak/60)},timeSecond:{pomo:this.$store.state.time.pomo%60,shortBreak:this.$store.state.time.shortBreak%60,longBreak:this.$store.state.time.longBreak%60}}},methods:{changeTimeSet:function(){this.$store.state.time.pomo=60*this.timeMinute.pomo+this.timeSecond.pomo,this.$store.state.time.shortBreak=60*this.timeMinute.pomo+this.timeSecond.shortBreak,this.$store.state.time.longBreak=60*this.timeMinute.pomo+this.timeSecond.longBreak,this.$store.commit("initDisplayTime")}}},I=N,E=(o("cfdc"),Object(m["a"])(I,O,j,!1,null,null,null)),U=E.exports,A={name:"App",components:{HeaderCom:p,PomoCom:T,MenuCom:U},data:function(){return{isMenu:!1,time:{pomo:3,shortBreak:1,longBreak:2}}},methods:{}},G=A,D=(o("034f"),Object(m["a"])(G,i,r,!1,null,null,null)),L=D.exports,Z=o("2f62");n["a"].use(Z["a"]);var J=new Z["a"].Store({state:{displayTime:null,time:{pomo:3,shortBreak:1,longBreak:2}},mutations:{initDisplayTime:function(){this.state.displayTime=this.state.time.pomo}}}),R=o("8c4f");n["a"].use(R["a"]);var q=[],F=new R["a"]({mode:"history",base:"/greenpomo/",routes:q}),H=F;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(L)},router:H,store:J}).$mount("#app")},"85ec":function(t,e,o){},"90da":function(t,e,o){},a830:function(t,e,o){"use strict";o("db74")},cf05:function(t,e,o){t.exports=o.p+"img/logo.5c7a2dbc.png"},cfdc:function(t,e,o){"use strict";o("2a20")},db74:function(t,e,o){},ddf5:function(t,e,o){"use strict";o("02a4")}});
//# sourceMappingURL=app.790fd14c.js.map